---
layout: post
title: How to enable VDPAU XBMC 1080p Linux
date: '2009-08-19T14:05:00.013+01:00'
author: Joel Bastos
tags: 
modified_time: '2010-02-16T02:56:01.925Z'
thumbnail: https://3.bp.blogspot.com/_iWsqNoMkfno/Sov46Clt9sI/AAAAAAAAAFY/_sh0FZgo_ZI/s72-c/alternate_5_logo.png
blogger_id: tag:blogger.com,1999:blog-1780138848439428569.post-638678063507201982
blogger_orig_url: http://blog.kintoandar.com/2009/08/how-to-enable-vdpau-xbmc-full-hd-1080p.html
comments: true
---

<a href="http://xbmc.org/" onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}"><img alt="" border="0" id="BLOGGER_PHOTO_ID_5371660656580622018" src="https://3.bp.blogspot.com/_iWsqNoMkfno/Sov46Clt9sI/AAAAAAAAAFY/_sh0FZgo_ZI/s320/alternate_5_logo.png" style="cursor: pointer; float: left; height: 79px; margin: 0pt 10px 10px 0pt; width: 320px;" /></a><span style="font-family: arial; font-size: 100%;">After some time tinkering and compiling several XBMC binaries, I've finally got my HTPC decompressing 1080p movies (mkv x264) directly on the GPU. What does this means?</span><span style="font-size: 100%;"><br /><br /></span> <span style="font-family: arial; font-size: 100%;"> Well, without GPU decompression my processor got 100% on one core 60% on the other (multithread enabled XBMC). This meant sluggish movie play and audio delay, awful experience that prohibits Full HD movie playback.</span> <span style="font-family: arial; font-size: 100%;"><br />Using the VDPAU support on XBMC all the work of decompressing the movie goes to the graphics card and you'll have a 10% CPU usage average (sum of both cores).</span>   <span style="font-family: arial; font-size: 100%;"><br /><br />The stable XBMC from the Ubuntu repositories (apt-get install xbmc) isn't VDPAU enable so you have to cook your own XBMC version.<br />The following how-to is designed to prevent breaking an previous installation of XBMC.</span><span style="font-size: 100%;"> </span><span style="font-family: arial; font-size: 100%;"> As you can see on the "</span><span style="font-family: Arial; font-size: 100%;"><span style="font-style: italic;">--prefix=/opt/install/xbmc/</span>" this will not interfere with other XBMC installations.<br /><br />Please look at the following links to gather more information:<br /></span><span style="font-family: Arial;"><span style="font-size: 100%;"><a href="http://http.download.nvidia.com/XFree86/vdpau/doxygen/html/index.html">VDPAU Info</a><br /><a href="http://en.wikipedia.org/wiki/VDPAU">Capable Cards</a><br /></span><br /></span><span style="font-size: 130%;"><span style="font-family: arial;">My Software/Hardware Specs</span></span><br /><span style="font-family: Arial; font-size: 85%;"><span style="font-family: arial;"><span style="font-weight: bold;"></span></span><br /></span>  <span style="font-family: Arial; font-size: 100%;"><span style="font-family: arial;"><span style="font-weight: bold;">Distro:</span> Ubuntu 8.04.3 LTS </span></span><span style="font-size: 100%;"><br /></span><span style="font-family: Arial; font-size: 100%;"> <span style="font-weight: bold;">Kernel:</span> 2.6.24-24-generic<br /><span style="font-weight: bold;">Driver:</span> </span><span style="font-family: Arial; font-size: 100%;"><a href="ftp://download.nvidia.com/XFree86/Linux-x86/185.19/NVIDIA-Linux-x86-185.19-pkg1.run">Nvidia Driver Used</a></span><span style="font-size: 100%;"><br /><br /></span><span style="font-family: Arial; font-size: 100%;"> MSI Geforce 9400GT 512Mb<br />Intel Pentium Dual  CPU  E2160  @ 1.80GHz<br />2 x 1Gb DDR2 - 667 Mhz</span><br /><br /><span style="font-family: Arial;"> <span style="font-size: 130%;">This instructions must be run as root:</span></span><span style="font-family: Arial;"><a class="moz-txt-link-freetext" href="http://en.wikipedia.org/wiki/VDPAU"></a><br /></span><span style="font-family: Arial;"> </span><br /><blockquote><span style="font-family: Arial;">sudo su -<br />apt-get install subversion make g++ gcc gawk pmount libtool nasm automake cmake gperf unzip bison libsdl-dev libsdl-image1.2-dev libsdl-gfx1.2-dev libsdl-mixer1.2-dev libsdl-sound1.2-dev libfribidi-dev liblzo2-dev libfreetype6-dev libsqlite3-dev libogg-dev libasound-dev python-sqlite libglew-dev libcurl4-gnutls-dev x11proto-xinerama-dev libxinerama-dev libxrandr-dev libxrender-dev libmad0-dev libogg-dev libvorbis-dev libsmbclient-dev libmysqlclient15-dev libpcre3-dev libdbus-1-dev libhal-dev libhal-storage-dev libjasper-dev libfontconfig-dev libbz2-dev libboost-dev libfaac-dev libenca-dev libxt-dev libxtst-dev libxmu-dev libpng12-dev libjpeg-dev libpulse-dev mesa-utils libcdio-dev libsamplerate-dev libmms-dev<br /><br />cd /root<br />wget <a class="moz-txt-link-rfc2396E" href="http://launchpad.net/libmms/trunk/0.4/+download/libmms-0.4.tar.gz">"http://launchpad.net/libmms/trunk/0.4/+download/libmms-0.4.tar.gz"</a><br />tar -zxvf libmms-0.4.tar.gz<br />cd libmms-0.4<br />./configure --prefix=/usr<br />make<br />make install</span></blockquote><span style="font-family: Arial;"> <span style="font-size: 130%;">No root privileges needed for the following (but they can be used nonetheless):</span></span><br /><span style="font-family: Arial;"> </span><br /><blockquote><span style="font-family: Arial;">mkdir /opt/install/xbmc -p<br />cd /opt/install/xbmc<br />svn checkout <a class="moz-txt-link-freetext" href="https://xbmc.svn.sourceforge.net/svnroot/xbmc/branches/linuxport/XBMC">https://xbmc.svn.sourceforge.net/svnroot/xbmc/branches/linuxport/XBMC</a><br />cd XBMC<br />./configure --enable-vdpau --prefix=/opt/install/xbmc/<br />make<br />make install<br /><br /># If all went without problems:<br />rm -rf /opt/install/xbmc/XBMC<br /></span></blockquote><blockquote></blockquote><span style="font-family: Arial;"> <span style="font-size: 130%;">You can now run as your user:</span><br /></span><br /><blockquote><span style="font-family: Arial;">/opt/install/xbmc/bin/xbmc</span></blockquote><span style="font-family: Arial;"><span style="font-size: 130%;">On XBMC go to:</span><br /><span style="font-size: 85%;"><span style="font-style: italic;"></span></span></span><br /><blockquote><span style="font-family: Arial;"><span style="font-size: 85%;"><span style="font-style: italic;">Settings &gt; Video &gt; Player &gt; Render </span></span></span></blockquote><span style="font-family: Arial;"><span style="font-size: 85%;"><span style="font-style: italic;"></span> <span style="font-size: 130%;">And choose:</span><br /><span style="font-style: italic;"></span></span></span><br /><blockquote><span style="font-family: Arial;"><span style="font-size: 85%;"><span style="font-style: italic;">VDPAU</span></span><span style="font-size: 85%; font-weight: bold;"><br /></span></span></blockquote>&nbsp;<span style="font-family: Arial;"><span style="font-size: 85%; font-weight: bold;"><span style="font-size: 100%;">Give it a try and have fun ;)</span></span><br /></span>
